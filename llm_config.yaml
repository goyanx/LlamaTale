URL: "http://localhost:5001" # "https://api.openai.com"
ENDPOINT: "/api/v1/generate" # "/v1/chat/completions"
STREAM: False
STREAM_ENDPOINT: "/api/extra/generate/stream"
DATA_ENDPOINT: "/api/extra/generate/check"
WORD_LIMIT: 200
BACKEND: "kobold_cpp" # "openai"
DEFAULT_BODY: '{"stop_sequence": "", "max_length":500, "max_context_length":4096, "temperature":1.0, "top_k":120, "top_a":0.0, "top_p":0.85, "typical_p":1.0, "tfs":1.0, "rep_pen":1.2, "rep_pen_range":256, "sampler_order":[6,0,1,3,4,2,5], "seed":-1}'
ANALYSIS_BODY: '{"banned_tokens":"\n\n", "stop_sequence": "\n\n\n", "max_length":500, "max_context_length":4096, "temperature":0.15, "top_k":120, "top_a":0.0, "top_p":0.85, "typical_p":1.0, "tfs":1.0, "rep_pen":1.2, "rep_pen_range":256, "mirostat":2, "mirostat_tau":5.0, "mirostat_eta":0.1, "sampler_order":[6,0,1,3,4,2,5], "seed":-1}'
MEMORY_SIZE: 512
PRE_PROMPT: 'Below is an instruction that describes a task, paired with an input that provides further context. Write a response that appropriately completes the request.\n\n'
BASE_PROMPT: "[Story context: {story_context}]; [History: {history}]; ### Instruction: Rewrite the following Text in your own words using the supplied Context and History to create a background for your text. Use about {max_words} words. [Text:{input_text}] \n\nEnd of text.\n\n ### Instruction: Rewrite [Text] in your own words. ### Response:\n"
ACTION_PROMPT: "[Story context: {story_context}]; [History: {history}]; ### Instruction: Rewrite the Action, and nothing else, in your own words using the supplied Context and Location. History is what happened before. Use less than {max_words} words. [Text: {input_text}] \n\nEnd of text.\n\n### Response:\n"
DIALOGUE_PROMPT: '[Story context: {story_context}]; [Location: {location}]; The following is a conversation between {character1} and {character2}; {character1}:{character1_description}; character2:{character2_description}; [Chat history: {previous_conversation}]\n\n [{character2}s sentiment towards {character1}: {sentiment}]. ### Instruction: Write a single response for {character2} in third person pov, using {character2} description. End response with "Summary:" and a single sentence summary \n\n### Response:\n'
ITEM_PROMPT: 'Items:[{items}];Characters:[{character1},{character2}]  \n\n ### Instruction: Decide if an item was explicitly given, taken, dropped or put somewhere in the following text:[Text:{text}]. Insert your thoughts about whether an item was explicitly given, taken, put somewhere or dropped in "my thoughts", and the results in "item", "from" and "to", or make them empty if . Insert {character1}s sentiment towards {character2} in a single word in "sentiment assessment". Fill in the following JSON template: {{ "thoughts":"my thoughts", "result": {{ "item":"", "from":"", "to":""}}, {{"sentiment":"sentiment assessment"}} }} End of example. \n\n Write your response in valid JSON\n\n### Response:\n'
COMBAT_PROMPT: 'Rewrite the following combat between user {attacker}, weapon:{attacker_weapon} and {victim}, weapon:{victim_weapon} into a vivid description in less than 300 words. Location: {location}, {location_description}. ### Instruction: Rewrite the following combat result in about 150 words, using the characters weapons . Combat Result: {attacker_msg} ### Response:\n\n'
PRE_JSON_PROMPT: 'Below is an instruction that describes a task, paired with an input that provides further context. Write a response in valid JSON format that appropriately completes the request.\n\n'
CREATE_CHARACTER_PROMPT: '### Instruction: For a {story_type}, create a diverse character with rich personality that can be interacted with using the story context and keywords. Do not mention height. Story context: {story_context}; keywords: {keywords}. Fill in this JSON template and write nothing else: {{"name":"", "description": "50 words", "appearance": "25 words", "personality": "50 words", "money":(int), "level":"", "gender":"m/f/n", "age":(int), "race":""}} ### Response:\n'
CREATE_LOCATION_PROMPT: '[Story context: {story_context}]; Zone info: {zone_info}; Exit example: {{"name" : "location name", "direction":"", "short_descr":"30 words"}}; Item example: {{"name":"", "type":"", "short_descr":"10 words"}}, type can be "Weapon", "Wearable", "Other" or "Money"; Npc example: {{"name":"", "sentiment":"", "race":"", "gender":"m, f, or n", "level":(int), "description":"25 words"}}. Existing connected location: {exit_location}. ### Instruction: For a {story_type}, describe the following location: {location_name}. {items_prompt} {spawn_prompt} Add a brief description, and one to three additional exits leading to new locations. Fill in this JSON template and do not write anything else: {{"description": "25 words", "exits":[], "items":[], "npcs":[]}}. Write the response in valid JSON. ### Response:\n'
CREATE_ZONE_PROMPT: '[Story context: {story_context}]; World info: {world_info};### Instruction: For a {story_type}, create an new area that can be further populated with locations. The area is about 25 square kilometers. It is connected in the {direction} to {zone_info}. Add a name and brief description. Populate "races" with only the names of 5 creatures likely to find in the area. Fill in "items" with the names of 5 items that are located here. Fill in this JSON template and do not write anything else: {{"name":"", "description": "75 words", "races":[], "items":[], "mood":"friendly, neutral, hostile, very hostile or nightmare", "level":(int)}}. Write the response in valid JSON. ### Response:\n'
OPENAI_HEADERS: '{"Content-Type":"application/json", "Authorization":""}'
OPENAI_BODY: '{"model":"gpt-3.5-turbo", "messages":[{"role":"system", "content":"You are an assistant game keeper for an RPG"}, {"role":"user", "content":""}], "temperature": 1.0, "max_tokens":500}'
OPENAI_API_KEY: "OPENAI_API_KEY"
ITEMS_PROMPT: "Add {items} of various type."
SPAWN_PROMPT: "Add a level {level}, {alignment} npc."
IDLE_ACTION_PROMPT: " [Sentiments towards characters: {sentiments}]  Last action: {last_action} Location: {location} {character} ### Instruction: Choose an item from [Interactable items: {items}] or a character from [Interactable characters:{characters}] to interact with, or perform a solo action. Do not make up new characters. Write what {character_name} does, in present tense, as if observed by a third party. Use less than 50 words. Don't write what {character} thinks or what anyone else does.  ### Response:\n"
